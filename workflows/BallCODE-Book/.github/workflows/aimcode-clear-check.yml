name: AIMCODE CLEAR Check
on:
  pull_request:
    types: [opened, edited, reopened, synchronize]
jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - name: Validate PR body contains Complexity and CLEAR
        uses: actions/github-script@v7
        with:
          script: |
            const body = context.payload.pull_request?.body || "";
            const missing = [];
            if (!/Complexity:\s*\[(Simple|Medium|Complex)\]/i.test(body)) missing.push("Complexity");
            if (!/Decision Tree:\s*\[(Educational|Pedagogical|Planning|Technical\/Admin)\]/i.test(body)) missing.push("Decision Tree");
            if (!/C - Clarity:/i.test(body)) missing.push("C - Clarity");
            if (!/L - Logic:/i.test(body)) missing.push("L - Logic");
            if (!/E - Examples:/i.test(body)) missing.push("E - Examples");
            if (!/A - Adaptation:/i.test(body)) missing.push("A - Adaptation");
            if (!/R - Results:/i.test(body)) missing.push("R - Results");
            if (missing.length) {
              core.setFailed(`AIMCODE CLEAR Check failed. Missing: ${missing.join(", ")}`);
            } else {
              core.info("AIMCODE CLEAR Check passed.");
            }


